<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
<script src="/web/bower_components/jquery/dist/jquery.min.js"></script>
<script src="/web/bower_components/popper.js/dist/umd/popper.min.js"></script>
<script src="/web/bower_components/moment/moment.js"></script>
<script src="/web/bower_components/chart.js/dist/Chart.min.js"></script>
<script src="/web/bower_components/select2/dist/js/select2.full.min.js"></script>
<script src="/web/bower_components/jquery-bar-rating/dist/jquery.barrating.min.js"></script>
<script src="/web/bower_components/ckeditor/ckeditor.js"></script>
<script src="/web/bower_components/bootstrap-validator/dist/validator.min.js"></script>
<script src="/web/bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
<script src="/web/bower_components/ion.rangeSlider/js/ion.rangeSlider.min.js"></script>
<script src="/web/bower_components/dropzone/dist/dropzone.js"></script>
<script src="/web/bower_components/editable-table/mindmup-editabletable.js"></script>
<script src="/web/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="/web/bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
<script src="/web/bower_components/fullcalendar/dist/fullcalendar.min.js"></script>
<script src="/web/bower_components/perfect-scrollbar/js/perfect-scrollbar.jquery.min.js"></script>
<script src="/web/bower_components/tether/dist/js/tether.min.js"></script>
<script src="/web/bower_components/slick-carousel/slick/slick.min.js"></script>
<script src="/web/bower_components/bootstrap/js/dist/util.js"></script>
<script src="/web/bower_components/bootstrap/js/dist/alert.js"></script>
<script src="/web/bower_components/bootstrap/js/dist/button.js"></script>
<script src="/web/bower_components/bootstrap/js/dist/carousel.js"></script>
<script src="/web/bower_components/bootstrap/js/dist/collapse.js"></script>
<script src="/web/bower_components/bootstrap/js/dist/dropdown.js"></script>
<script src="/web/bower_components/bootstrap/js/dist/modal.js"></script>
<script src="/web/bower_components/bootstrap/js/dist/tab.js"></script>
<script src="/web/bower_components/bootstrap/js/dist/tooltip.js"></script>
<script src="/web/bower_components/bootstrap/js/dist/popover.js"></script>
<script src="/web/js/demo_customizer.js?version=4.4.1"></script>
<script src="/web/js/main.js?version=4.4.1"></script>
<script src="/web/js/qrcode.min.js"></script>
<script src="/web/js/ese.js"></script>
<script src="/web/js/permissions.js"></script>
<script src="/web/js/plugin_sam.js"></script>
<script src="/web/js/data-channels.js"></script>
<script src="/web/js/dave.js"></script>
<script src="/web/js/wizards.js"></script>
<script src="/web/js/plugin_dave.js"></script>
{{!--<script src="js/entity.js"></script>
<script src="js/individual.js"></script>
<script src="js/invoice.js"></script> --}}
{{!-- <script src="/js/charge_registry.js"></script>
<script src="/js/trade_document.js"></script>
<script src="/js/kyc.js"></script> --}}

<script src="https://cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.flash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script>
<script src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js"></script>
<script src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.print.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script type="text/javascript"
    src="https://cdn.datatables.net/v/dt/jszip-2.5.0/dt-1.10.20/b-1.6.1/b-html5-1.6.1/b-print-1.6.1/datatables.min.js"></script>

<script>
    $(document).ready(function () {
        $('#myTable').DataTable();
        $(document).ready(function () {
            var table = $('#example').DataTable({
                "columnDefs": [{
                    "visible": false,
                    "targets": 2
                }],
                "order": [
                    [2, 'asc']
                ],
                "displayLength": 25,
                "drawCallback": function (settings) {
                    var api = this.api();
                    var rows = api.rows({
                        page: 'current'
                    }).nodes();
                    var last = null;
                    api.column(2, {
                        page: 'current'
                    }).data().each(function (group, i) {
                        if (last !== group) {
                            $(rows).eq(i).before('<tr class="group"><td colspan="5">' + group + '</td></tr>');
                            last = group;
                        }
                    });
                }
            });
            // Order by the grouping
            $('#example tbody').on('click', 'tr.group', function () {
                var currentOrder = table.order()[0];
                if (currentOrder[0] === 2 && currentOrder[1] === 'asc') {
                    table.order([2, 'desc']).draw();
                } else {
                    table.order([2, 'asc']).draw();
                }
            });
        });
    });
    $('#example23').DataTable({
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
    });
</script>


<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-XXXXXXX-9', 'auto');
    ga('send', 'pageview');
</script>
{{!-- <script>
    function preventBack() {
        window.history.forward();
    }
    setTimeout("preventBack()");
    window.onunload = function () { null }; 
</script> --}}
<script type="text/javascript">
    $(window).on('load', function () {
        $('#warningActionModal').modal('show');
    });
</script>

{{#if user}}
<script>
    //Added for preventing browser back button
    $('#charge_template').ready(function () {
        $(".show-more a").on("click", function (e) {
            e.preventDefault();

            var $this = $(this);
            var $content = $this.parent().prev("div.content");
            var linkText = $this.text();

            if (linkText == "...more") {
                linkText = "less";
                $content.removeClass("hideContent").addClass("showContent");
            } else {
                linkText = "...more";
                $content.removeClass("showContent").addClass("hideContent");
            };

            $this.text(linkText);
        });
    });

    $("#primechainImage").change(function (e) {
        e.preventDefault();
        readURLImage(this);
    });

     $("#commentImage").change(function (e) {
        e.preventDefault();
        readCommentImage(this);
    });

     function readCommentImage(input) {
        $("#commentImagePreview").val('');

        if (input.files && input.files[0]) {
            if (input.files[0]['type'] === 'image/jpeg' || input.files[0]['type'] === 'image/png' || input.files[0]['type'] === 'image/jpg' || input.files[0]['type'] === 'image/gif') {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#commentImagePreview').show()
                    $('#commentImagePreview').attr('src', e.target.result);
                }

                reader.readAsDataURL(input.files[0]);
            }
            else {
                $("#commentImagePreview").val('');
                $("#commentImagePreview").attr('src', '');
                $("#commentImagePreview").hide();
                alert("Upload an image, Supported types are jpg,png, gif.");
            }
        }
    }




    function readURLImage(input) {
        $("#primechainImagePreview").val('');

        if (input.files && input.files[0]) {
            if (input.files[0]['type'] === 'image/jpeg' || input.files[0]['type'] === 'image/png' || input.files[0]['type'] === 'image/jpg' || input.files[0]['type'] === 'image/gif') {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#primechainImagePreview').show()
                    $('#primechainImagePreview').attr('src', e.target.result);
                }

                reader.readAsDataURL(input.files[0]);
            }
            else {
                $("#primechainImage").val('');
                $("#primechainImagePreview").attr('src', '');
                $("#primechainImagePreview").hide();
                alert("Upload an image, Supported types are jpg,png, gif.");
            }
        }
    }

    $("#user_mobile").change(function (e) {
        e.preventDefault();
        var user_mobile = $.trim($('#user_mobile').html());

        $.ajax({
            url: '/account/update-mobile-number',
            method: 'POST',
            success: function (res) {
                if (res['success']) {
                    alert(res['message']);

                }
                else {
                    alert(res['message']);

                }
                return true;
            },
            data: { mobile: user_mobile }
        })

    });

    (function () {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else {
            document.getElementById('geo_latitude').innerHTML = "Geolocation is not supported by this browser.";
        }

        function showPosition(position) {
            document.getElementById('geo_latitude').value = position.coords.latitude;
            document.getElementById('geo_longitude').value = position.coords.longitude;
        }
    })();

</script>
{{/if}}